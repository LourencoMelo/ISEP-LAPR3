<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="633px" preserveAspectRatio="none" style="width:1525px;height:633px;" version="1.1" viewBox="0 0 1525 633" width="1525px" zoomAndPan="magnify"><defs><filter height="300%" id="fmfv7uazxk0ra" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="423" y="136.3125"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="338.4219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="423" y="197.0156"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="308.0703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="565" y="227.3672"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="208.0156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="694.5" y="257.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="59" x2="59" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="427.5" x2="427.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="569.5" x2="569.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="699.5" x2="699.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="988.5" x2="988.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1122.5" x2="1122.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1278.5" x2="1278.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1400.5" x2="1400.5" y1="87.6094" y2="544.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1485.5" x2="1485.5" y1="355.875" y2="544.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="8" y="84.5332">TrafficManager</text><ellipse cx="59" cy="13" fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M59,21 L59,48 M46,29 L72,29 M59,48 L46,63 M59,48 L72,63 " fill="none" filter="url(#fmfv7uazxk0ra)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="8" y="557.9707">TrafficManager</text><ellipse cx="59" cy="571.0469" fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M59,579.0469 L59,606.0469 M46,587.0469 L72,587.0469 M59,606.0469 L46,621.0469 M59,606.0469 L72,621.0469 " fill="none" filter="url(#fmfv7uazxk0ra)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="374.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="381.5" y="72.5332">:ClosestPortUI</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="374.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="381.5" y="564.9707">:ClosestPortUI</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="491.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="498.5" y="72.5332">:ClosestPortController</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="491.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="498.5" y="564.9707">:ClosestPortController</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="658.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="665.5" y="72.5332">:Company</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="658.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="665.5" y="564.9707">:Company</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="938.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="945.5" y="72.5332">:TreeOfPorts</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="938.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="945.5" y="564.9707">:TreeOfPorts</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="1048.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1055.5" y="72.5332">:treeOfShipsCallSign</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="1048.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1055.5" y="564.9707">:treeOfShipsCallSign</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1207.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1214.5" y="72.5332">:treeOfPositionData</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1207.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1214.5" y="564.9707">:treeOfPositionData</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1359.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1366.5" y="72.5332">:KD:TREE</text><rect fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1359.5" y="543.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1366.5" y="564.9707">:KD:TREE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1451.5" y="557.9707">DataBase</text><path d="M1467.5,571.0469 C1467.5,561.0469 1485.5,561.0469 1485.5,561.0469 C1485.5,561.0469 1503.5,561.0469 1503.5,571.0469 L1503.5,597.0469 C1503.5,607.0469 1485.5,607.0469 1485.5,607.0469 C1485.5,607.0469 1467.5,607.0469 1467.5,597.0469 L1467.5,571.0469 " fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1467.5,571.0469 C1467.5,581.0469 1485.5,581.0469 1485.5,581.0469 C1485.5,581.0469 1503.5,581.0469 1503.5,571.0469 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="423" y="136.3125"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="338.4219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="423" y="197.0156"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="308.0703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="565" y="227.3672"/><rect fill="#FFFFFF" filter="url(#fmfv7uazxk0ra)" height="208.0156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="694.5" y="257.7188"/><polygon fill="#A80036" points="411,132.3125,421,136.3125,411,140.3125,415,136.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59" x2="417" y1="136.3125" y2="136.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="66" y="123.2803">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="330" x="77" y="115.1045">, I wish to find the closest port of a ship given its CallSign</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="81" y="131.4561">on a certain DateTime.</text><polygon fill="#A80036" points="70,162.6641,60,166.6641,70,170.6641,66,166.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="427" y1="166.6641" y2="166.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="76" y="161.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="87" y="161.8076">Requests the Call Sign and the date</text><polygon fill="#A80036" points="411,193.0156,421,197.0156,411,201.0156,415,197.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59" x2="417" y1="197.0156" y2="197.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="66" y="192.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="77" y="192.1592">Enters the requested data</text><polygon fill="#A80036" points="553,223.3672,563,227.3672,553,231.3672,557,227.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="433" x2="559" y1="227.3672" y2="227.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="440" y="222.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="451" y="222.5107">getClosest(...)</text><polygon fill="#A80036" points="682.5,253.7188,692.5,257.7188,682.5,261.7188,686.5,257.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="575" x2="688.5" y1="257.7188" y2="257.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="582" y="252.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="593" y="252.8623">getClosest(..)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="704.5" x2="746.5" y1="288.0703" y2="288.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="746.5" x2="746.5" y1="288.0703" y2="301.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="705.5" x2="746.5" y1="301.0703" y2="301.0703"/><polygon fill="#A80036" points="715.5,297.0703,705.5,301.0703,715.5,305.0703,711.5,301.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="711.5" y="283.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="722.5" y="283.2139">getPositionDataByCallSignAndDateTime(...)</text><polygon fill="#A80036" points="1439.5,327.4219,1449.5,331.4219,1439.5,335.4219,1443.5,331.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="704.5" x2="1445.5" y1="331.4219" y2="331.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="711.5" y="326.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="722.5" y="326.5654">getShipByCallSign(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1451.5" y="369.6035">DataBase</text><path d="M1467.5,319.0703 C1467.5,309.0703 1485.5,309.0703 1485.5,309.0703 C1485.5,309.0703 1503.5,309.0703 1503.5,319.0703 L1503.5,345.0703 C1503.5,355.0703 1485.5,355.0703 1485.5,355.0703 C1485.5,355.0703 1467.5,355.0703 1467.5,345.0703 L1467.5,319.0703 " fill="#FEFECE" filter="url(#fmfv7uazxk0ra)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1467.5,319.0703 C1467.5,329.0703 1485.5,329.0703 1485.5,329.0703 C1485.5,329.0703 1503.5,329.0703 1503.5,319.0703 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#A80036" points="1473.5,401.0313,1483.5,405.0313,1473.5,409.0313,1477.5,405.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="704.5" x2="1479.5" y1="405.0313" y2="405.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="711.5" y="400.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="722.5" y="400.1748">closestData(...)</text><polygon fill="#A80036" points="1473.5,431.3828,1483.5,435.3828,1473.5,439.3828,1477.5,435.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="704.5" x2="1479.5" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="711.5" y="430.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="722.5" y="430.5264">getClosest(...)</text><polygon fill="#A80036" points="586,461.7344,576,465.7344,586,469.7344,582,465.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580" x2="698.5" y1="465.7344" y2="465.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="592" y="460.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="610" y="460.8779">ClosestPort</text><polygon fill="#A80036" points="444,492.0859,434,496.0859,444,500.0859,440,496.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="564" y1="496.0859" y2="496.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="450" y="491.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="468" y="491.2295">ClosestPort</text><polygon fill="#A80036" points="70,522.4375,60,526.4375,70,530.4375,66,526.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="422" y1="526.4375" y2="526.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="76" y="521.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="94" y="521.5811">Prints the closest Port name</text><!--MD5=[b2e96597d9a461ed69ffc972c0d5d560]
@startuml

autonumber

actor       TrafficManager             as TM
participant    ":ClosestPortUI"         as UI
participant    ":ClosestPortController" as CTRL
participant    ":Company"              as Company
participant    ":TreeOfPorts"   as TreeOfPorts
participant    ":treeOfShipsCallSign"   as treeOfShipsCallSign
participant    ":treeOfPositionData"   as TreeOfPositionData
participant    ":KD:TREE"   as KD
database       "DataBase"              as db

TM -> UI : , I wish to find the closest port of a ship given its CallSign \n on a certain DateTime.
activate UI
UI - -> TM: Requests the Call Sign and the date
deactivate UI

TM -> UI : Enters the requested data
activate UI

UI -> CTRL : getClosest(...)
activate CTRL
CTRL -> Company : getClosest(..)
activate Company
Company -> Company : getPositionDataByCallSignAndDateTime(...)
Company -> db** : getShipByCallSign(...)
Company -> db : closestData(...)
Company -> db : getClosest(...)
Company -> CTRL : ClosestPort
deactivate Company
CTRL -> UI : ClosestPort
UI -> TM : Prints the closest Port name

@enduml

PlantUML version 1.2020.07(Sun Apr 19 12:42:40 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>